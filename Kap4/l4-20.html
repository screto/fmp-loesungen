<!DOCTYPE html>
<html lang="de">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Aufgabe 4.20 - Folge mit Term $ a_n = n^2 - 1 $</title>
    <link rel="stylesheet" href="../style.css">
    <script src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script>
    <script src="../script-math.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
    <script src="../script-sol.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <style>
        .chart-container {
            position: relative;
            height: 60vh;
            width: 60vw;
            background: white;
            padding: 20px;
            border-radius: 10px;
            box-shadow: 0 4px 6px rgba(0,0,0,0.1);
        }

    </style>
</head>
<body>
    <div class="header-nav">
        <a href="l4-19.html">&laquo; Aufgabe 4.19</a>
        <h1>Aufgabe 4.20 - Folge mit Term $ a_n = n^2 - 1 $</h1>
        <a href="l4-21.html">Aufgabe 4.21 &raquo;</a>
    </div>

    <div class="aufgabe">
        <h2>Aufgabe</h2>
        <p>Eine Folge ist durch $ a_n = n^2 - 1 $ definiert.</p>

        <div class="task-row">
            <div class="task-left">
                <p></p><strong> a)</strong>
                Bestimmen Sie die ersten sechs Glieder dieser Folge.</p>
                <button class="toggle" onclick="toggleSolution('sol-a')">Lösung anzeigen</button>
                <div class="solution is-hidden" id="sol-a">
                    <p><strong>Lösung:</strong></p>
                    <p>Gegeben ist der explizite Term $ a_n = n^2 - 1 $.</p>
                    <p>Berechnung der ersten sechs Glieder:</p>
                    <ul>
                        <li>$ a_1 = 1^2 - 1 = 1 - 1 = 0 $</li>
                        <li>$ a_2 = 2^2 - 1 = 4 - 1 = 3 $</li>
                        <li>$ a_3 = 3^2 - 1 = 9 - 1 = 8 $</li>
                        <li>$ a_4 = 4^2 - 1 = 16 - 1 = 15 $</li>
                        <li>$ a_5 = 5^2 - 1 = 25 - 1 = 24 $</li>
                        <li>$ a_6 = 6^2 - 1 = 36 - 1 = 35 $</li>
                    </ul>
                    <p>Die ersten sechs Glieder der Folge lauten: 0, 3, 8, 15, 24, 35</p>
                </div>
            </div>
        </div>

        <div class="task-row">
            <div class="task-left">
                <p></p><strong>b)</strong>
                Bestimmen Sie das 11. Glied.</p>
                <button class="toggle" onclick="toggleSolution('sol-b')">Lösung anzeigen</button>
                <div class="solution is-hidden" id="sol-b">
                    <p><strong>Lösung:</strong></p>
                    <p>Berechnung des 11. Glieds:</p>
                    $$ a_{11} = 11^2 - 1 = 121 - 1 = 120 $$
                    <p>Das 11. Glied der Folge ist 120.</p>
                </div>
            </div>
        </div>

        <div class="task-row">
            <div class="task-left">
                <p><strong>c)</strong>
                Finden Sie einen Term, der die Folge rekursiv beschreibt.</p>

                <button class="toggle" onclick="toggleSolution('sol-c')">Lösung anzeigen</button>
                <div class="solution is-hidden" id="sol-c">
                    <p><strong>Lösung:</strong></p>
                    <p>Um eine rekursive Formel zu finden, betrachten wir die Differenz zwischen aufeinanderfolgenden Folgengliedern:</p>
                    <ul>
                        <li>$ a_2 - a_1 = 3 - 0 = 3 $</li>
                        <li>$ a_3 - a_2 = 8 - 3 = 5 $</li>
                        <li>$ a_4 - a_3 = 15 - 8 = 7 $</li>
                        <li>$ a_5 - a_4 = 24 - 15 = 9 $</li>
                    </ul>
                    <p>Die Differenzen sind ungerade Zahlen, die um 2 zunehmen.</p>
                    <p>Die rekursive Formel lautet:</p>
                    $$ a_{n+1} = a_n + (2n + 1) $$
                    <p>mit dem Startwert $ a_1 = 0 $.</p>
                </div>
            </div>
        </div>

        <div class="task-row">
            <div class="task-left">
                <p><strong>d)</strong>
                Stellen Sie die Folge in einem Koordinatengitter dar.</p>
                <button class="toggle" onclick="toggleSolution('sol-d')">Lösung anzeigen</button>
                <div class="solution is-hidden" id="sol-d">
                    <p><strong>Lösung:</strong></p>
                    <p>Darstellung der ersten 8 Folgenglieder im Koordinatensystem (n|aₙ):</p>
                    <div class="chart-container">
                        <canvas id="sequenceChart"></canvas>
                    </div>

                    <script>
                        // Die berechneten Daten
                        const nValues = [1, 2, 3, 4, 5, 6, 7, 8];
                        const anValues = [0, 3, 8, 15, 24, 35, 48, 63];

                        const ctx = document.getElementById('sequenceChart').getContext('2d');
                        
                        const sequenceChart = new Chart(ctx, {
                            type: 'scatter', // Scatter ist mathematisch präziser für diskrete Folgen
                            data: {
                                datasets: [{
                                    label: 'Werte der Folge (n, a_n)',
                                    data: nValues.map((n, i) => ({x: n, y: anValues[i]})),
                                    backgroundColor: 'rgba(54, 162, 235, 1)', // Blaue Punkte
                                    borderColor: 'rgba(54, 162, 235, 1)',
                                    pointRadius: 6,
                                    pointHoverRadius: 8
                                }]
                            },
                            options: {
                                responsive: true,
                                maintainAspectRatio: false,
                                scales: {
                                    x: {
                                        type: 'linear',
                                        position: 'bottom',
                                        title: {
                                            display: true,
                                            text: 'Index (n)',
                                            font: { size: 14, weight: 'bold' }
                                        },
                                        min: 0,
                                        max: 9,
                                        ticks: {
                                            stepSize: 1
                                        }
                                    },
                                    y: {
                                        title: {
                                            display: true,
                                            text: 'Wert (a_n)',
                                            font: { size: 14, weight: 'bold' }
                                        },
                                        beginAtZero: true
                                    }
                                },
                                plugins: {
                                    tooltip: {
                                        callbacks: {
                                            label: function(context) {
                                                return `n = ${context.parsed.x}, a_n = ${context.parsed.y}`;
                                            }
                                        }
                                    }
                                }
                            }
                        });
                    </script>
                </div>
            </div>
        </div>

        <div class="task-row">
            <div class="task-left">
                <p><strong> e)</strong>
                Stellen Sie die Folge mithilfe einer Plättchen-Folge dar.</p>
                <button class="toggle" onclick="toggleSolution('sol-e')">Lösung anzeigen</button>
                <div class="solution is-hidden" id="sol-e">
                    <p><strong>Lösung:</strong></p>
                    <div style="text-align: center; margin: 1rem 0;">
                        <img src="../pics/plaettchen3.png" alt="Plättchen-Folge" style="max-width: 60%;">
                    </div>
                </div>
            </div>
        </div>
    </div>
</body>
</html>
